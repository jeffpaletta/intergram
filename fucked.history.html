<html>

    <head>

        <title>FLOODWATCH - Your Advertising History</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="shortcut icon" href="data/favicon.png" />
        
        <link rel="stylesheet" type="text/css" href="css/tagging.css" />
        <link rel="stylesheet" type="text/css" href="css/history.css" />

    </head>


    <body>

        <div id="taggingBody">
            <div id="taggingWrapper">
                <div id="imageToTag"><img src=""/></div>
                <div id="statusBar">
                    <div class="btn back"><img width="16px" height="16px" src="img/tagging_back.png"/></div>
                    <div class="status"><p></p></div>
                    <div class="buttons">
                        <div class="btn flagButton"><img width="16px" height="16px" src="img/tagging_not.png"/></div>
                        <div class="btn skip"><img width="16px" height="16px" src="img/tagging_skip.png"/></div>
                        <div class="btn done"><img width="16px" height="16px" src="img/tagging_done.png"/></div>
                    </div>
                </div>
                <div id="tagging">
                    <div class="horizontalPan">
                    </div>
                </div>
            </div>
        </div>

        <div id="about">
            <div class="wrap">
                <p class="version">
                    Thanks for helping us test the alpha version of Floodwatch! As this extension is currently under development, please don't hesitate to contact us with feedback or bug reports.
                </p>
                <p class="intro">
                    Floodwatch is an extension for Opera and Chrome designed to track the ads you&#39;ve seen in your online history. It offers tools to help you understand the quantity and kinds of ads you are seeing during the course of normal browsing, with the goal of increasing awareness of the many ways advertisers can obviously or more subtly tailor the ads a website serves to you as an individual. Floodwatch started as a collaboration between <a href="http://www.o-c-r.org">The Office For Creative Research</a> and <a href="http://ashkansoltani.org/">Ashkan Soltani</a>(currently on loan to a consumer protection agency), and was made possible by a grant from <a href="http://www.fordfoundation.org/">The Ford Foundation</a>. It is currently developed and maintained by The Office For Creative Research.
                </p>

                <div class="hr"></div>

                <h2>Your Data</h2>
                <div class="donate">
                    <p>
                        With your permission, we&#39;d like to upload your advertising history to our servers, where it will help researchers learn more about how advertising is targeted to individuals. This will give us an idea of what pages you&#39;ve visited, and how ads might be targeted to you. Data will never be shared with advertisers. We take steps to ensure that only 'general' ads (ie those seen by large numbers of people) are shown but in the event you want to be absolutely sure, you should use private browsing mode for your most sensitive browsing sessions. 
                    </p>
                    <p>
                        Our goal is to show the sensitive inferences that can be made by advertisers about you so it&#39;s no surprise that you might find some of the most innocuous ads themselves sensitive.
                    </p>
                    <p>
                        If you choose not to upload your data, we can still help you track your history - however, this means that you will not get as full a picture as if you choose to share your data with our server.

                        Please also note that this extension will not work properly with AdBlock or other similar programs being active. 

                        If you have any more questions about what exactly we collect, please review our Privacy Policy <a href="http://floodwatch.o-c-r.org/privacy.html">here</a>. We welcome questions and comments.
                    </p>
                    <p>
                        Even if you choose not to share data, please sign up for an account. In local mode the extension still checks with our server to verify ads are valid, and for security reasons we require those connections to be authenticated.
                    </p>
                    <p>
                        <a href="/download.html">Click here to download your ad history from our servers.</a>
                    </p>
                </div>
                <div class="record">
                    <p>
                        A typical record of an impression looks like this: 
                    </p>
                    <p class="code"> 
                        {"id" : 1, timestamp": 2014-05-29 19:12:51, 
                        "placement_id": "9daac9a292f4f311e416dcf4ad3f3bdfa3979e48ee54e9ad4ff1ed91bb7c4e73",
                        "user_id": 1}
                    </p>
                   <div class="sharingOptions">
                        <div class="optin"><span></span>I'd like to share data</div>
                        <div class="optout"><span></span>I'd prefer to store data locally</div>
                    </div>

                </div>
<!-- 
                <div class="wrap">
                        <h2>Demographics</h2>
                        <form id="demographics" method="post">
                            <p>Please help researchers by donating some demographic information</p>
                            <label>Age</label>
                            <input type="text" name="age" value="" id="age" title="Please enter your age"><br>
                            <label>I identify my gender as: </label>
                            <select name="Gender" title="I identify my gender as: ">
                                <option value="NA">Undefined</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="trans">Trans*</option>
                            </select>
                            <label>Zipcode</label>
                            <input type="text" name="zipcode" value="" id="zipcode" title="Please enter your zipcode"><br>
                            <input id ="submit" type="submit" value="submit" class="button"/>
                        </form>
                    </div> -->

                <div class="hr"></div>
                
                <h2>I can't see anything, is it broken?</h2>
                <div class="howdoesitwork">
                    <p>
                        Floodwatch works by attempting to capture ads on webpages that you visit. We can't access your history before installation, so if you're not yet seeing ads please try browsing for a few more days.
                    </p>
                </div>

                <div class="hr"></div>
                
                <h2>Acknowledgements</h2>
                <div class="acknowledgement">
                    <p>
                        Floodwatch was built using a variety of open-source tools, including <a href="http://threejs.org/">three.js</a>, <a href="http://jquery.com">jQuery</a>, <a href="http://python.org">Python</a>, <a href="http://lokeshdhakar.com/projects/color-thief/">ColorThief</a>, <a href="https://github.com/marioizquierdo/jquery.serializeJSON">serializeJSON</a>, and <a href="http://flask.pocoo.org/">Flask</a>. We will be releasing code for Floodwatch when we reach beta.
                    </p>
                    <p>
                        The Floodwatch team is grateful to the many people and projects which inspired our work. These include Moritz Stefaner & Lev Manovich's <a href="http://selfiecity.net/">Selfie City</a>, Nicholas Felton's <a href="http://feltron.com/">Annual Reports</a>, and too many great projects to count from the <a href="http://nytlabs.com/">NYTimes R&D Group</a>. 
                    </p>
                    <p>

                        

                    </p>
                </div>
                <div class="hr"></div>
                <h2>Contact Us</h2>
                <div class="contact">
                    If you have questions or concerns about the project, or if you'd like to get involved, please contact us at <a href="mailto:floodwatch@o-c-r.org">floodwatch@o-c-r.org</a>. If you experience any problems, please email us or file an issue on our public <a href="https://github.com/O-C-R/floodwatch-issue-tracking/issues">GitHub</a> repository.
                </div>
            </div>
        </div>
        <div id="superHeader">
		       <!-- REAL HEADER-->
	        </div> 
        <div id="mainWrapper">
	        
            <div id="header">
                <div class="wrap">
                    <div class="logo"><img src="img/logo.svg" alt="floodwatch logo"></div>
                    <h1>placeholder</h1>
                    <div class="nav">
                        <div class="navButton current">Placeholder</div>
                        <!-- <div class="navButton">Signature</div> -->
                        <div class="navButton">About</div>
                    </div>
                </div>
            </div>
            <div id="filters">
                <div class="hitbox1">
                </div>
                <div class="hitbox2"></div>
                <div class="wrap">
                    <div id="timeline">
                    </div>
                    <div class="single"><p>Sort modes</p></div>
                    <div class="single"><p>Publishers</p></div>
                    <div class="single"><p>Themes</p></div>
                    <div class="single"><p>Colors</p></div>
                    <div class="double">
                        <div class="row"><p>Time of day</p></div>
                        <div class="row"><p>Format</p></div>
                    </div>
                </div>
            </div>
            <div id="demographics">
                
            </div>
            <div id="containerWrapper">
                <div class="hitbox1">
                    <div class="viewControls">
                        <p>view mode</p>
                        <div class="sliderBkg"><div class="slider"></div><img src="img/viewModes.png" alt="view modes"/></div>
                    </div>
                </div>
                <div class="hitbox2"></div>
                <div id="container">
                    <div id="errorDisplay">
                        <p>error message</p>
                        <div class="resume">Resume exploration</div>
                    </div>
                </div>
            </div>

            <div id="dropdownMenu">
                <div class="hitbox"></div>
                <div class="wrap">
                    <p class="icon">
                        +
                    </p>
                    <p class="cta">
                        Floodwatch works better if you share your ads with our researchers. Please consider donating your information!
                    <p>
                    <div class="form optin">
                        <p class="description">
                            With your permission, we&#39;d like to upload your advertising history to our servers, where it will help researchers learn more about how advertising is targeted to individuals. <br/><span>Learn more</span>
                        </p>
                        <div class="sharingOptions">
                            <div class="optin"><span></span>I'd like to share data</div>
                            <div class="optout"><span></span>I'd prefer to store data locally</div>
                        </div>
                    </div>
                    <form class="form demographics">
                        <p class="description">
                            With your permission, we&#39;d like to upload your advertising history to our servers, where it will help researchers learn more about how advertising is targeted to individuals.
                        </p>
                        <div class="column">
                            <input type="text" name="age" id="age" title="Please enter your age" value="Age"><br>
                            <input type="text" name="city" id="city" title="Please enter your city" value="city"><br>
                            <label class="gender">I identify my gender as: </label>
                            <select name="Gender" title="I identify my gender as: ">
                                <option value="NA">----</option>
                                <option value="female">Female</option>
                                <option value="male">Male</option>
                                <option value="trans">Trans*</option>
                                <option value="other">Other</option>
                            </select>
                            <input id ="submit" type="submit" value="submit" class="button"/>
                        </div>
                    </form>
                </div>
            </div>
        </div>


        <script id="vertexShader" type="text/x-glsl-vert">
            varying vec2 vuv;
            // attribute vec2 acorneruv;
            // varying vec2 vcorneruv;
            // attribute vec2 adims;
            // varying vec2 vdims;
            attribute vec3 aopos;
            attribute vec3 atpos;
            attribute float aofading;
            attribute float atfading;
            varying float vfading;
            uniform float ulerpamount;
            void main() {
                vuv = uv;
                // vcorneruv = acorneruv;
                // vdims = adims;
                vec3 aPos = aopos + (atpos - aopos)*ulerpamount;
                vfading = aofading + (atfading-aofading)*ulerpamount;
                vec4 mvPosition = modelViewMatrix * vec4(aPos.x,aPos.y,aPos.z,1.0);
                vec4 p = projectionMatrix * mvPosition;
                gl_Position = p;
            }
        </script>
        <script id="fragmentShader" type="text/x-glsl-frag">
            varying vec2 vuv;
            // varying vec2 vcorneruv;
            // varying vec2 vdims;
            uniform sampler2D utexture;
            varying float vfading;

            float map(float value, float start1, float stop1, float start2, float stop2) {
                return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
            }

            void main() {

                vec4 diffuse = texture2D(utexture, vuv);

                // vec2 uvfiltered = vec2(0,0);
                // float globalsize = 4096.0;
                // float sampling = 256.0;
                // float offset = (globalsize/sampling)/globalsize;
                // uvfiltered.x = map(vuv.x,vcorneruv.x,vcorneruv.x+vdims.x,vcorneruv.x+offset,vcorneruv.x+vdims.x-offset);
                // uvfiltered.y = map(vuv.y,1.0-(vcorneruv.y+vdims.y),vcorneruv.y,(1.0-(vcorneruv.y+vdims.y+offset*5.0)),vcorneruv.y);
                // vec4 diffuse = texture2D(utexture, uvfiltered);
                
                vec4 fading = vec4(0.078,0.078,0.078,1);
                gl_FragColor = diffuse + (fading - diffuse)*vfading;

            }
        </script>
        <script src="js/d3.min.js"></script>
        <script src="js/three.min.js"></script>
        <script src="js/color-thief.js"></script>
        <script src="js/adWords.js"></script>
        <script src="js/history.js"></script>
        <!-- <script src="js/jquery.validate.min.js"></script>
        <script src="js/jquery.serializejson.min.js"></script> -->
        <!-- // <script src="js/p5.js"></script> -->
        <!-- // <script src="js/signature.js"></script> -->

    </body>

</html>